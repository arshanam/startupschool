// Generated by CoffeeScript 1.3.3
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;d=640,a=.7,b=.048,c=0,r={},D=function(){return window.cache={row_width:$(".row").width(),icon_width:$(".icon").width()}},window.adjustLogo=function(){var a,b;return a=$(".logo"),b=$(window).height()-$("#hero").height(),b=Math.max(b,80),$("#hero").css({"margin-top":""+b+"px"}),e()},e=function(){var d,e,g,h,i,j;return j=$(".logo").outerHeight(!0),d=$("#arrow"),g=$("#arrow_head"),e=$("#arrow_body"),d.show(),i=$(".logo").outerWidth()*b,h=j*a,g.css({"border-right":""+i+"px solid transparent","border-left":""+i+"px solid transparent","border-bottom":""+i+"px solid #3ba4db"}),e.css({width:""+i+"px","margin-left":""+i/2+"px"}),$("#arrow_track").css({height:""+(c+140)+"px",width:""+i+"px","margin-left":"-"+(i+2)/2+"px"}),d.css("bottom",h),f()},t=function(){return c=$(document).height()-$("#hero").outerHeight(!0),D(),adjustLogo(),j(),A(),adjustLogo(),C(),u()},B=0,o=!1,n=null,u=function(){return B>=15&&B<20&&($("#scroll_up").fadeOut("slow"),$(".nav_item").animate({opacity:100})),o||$(window).scrollTop()<$("#instruction_header").offset().top+5&&(n=(new Date).getTime(),$("#instruction_header").trigger("click"),o=!0),f(),j(),h(),B+=1},f=function(){var a,b,c,d,e,f,g,h;if(B<10)return;return $("#arrow_body").animate({height:"#20px"},70),h=$(window).height(),c=$(document).height(),a=$("#arrow_body"),$(window).scrollTop()+h+40>c?b=20:(g=h/c,e=-0.666*g+.666,f=$(window).scrollTop()/(c-h),d=$(window).scrollTop()+f*e*h,b=Math.max(a.offset().top+a.height()-d,10),a.stop(!0)),a.animate({height:""+b+"px"},70)},j=function(){var a,b,c,e,f,g,h,i,j;a=$(window).height()/4,b=cache.row_width-cache.icon_width,$(".bar").width(b);if($(window).width()>=d){f=$(window).scrollTop(),i=$(".bar_cover"),j=[];for(g=0,h=i.length;g<h;g++)c=i[g],e=Math.min(Math.max(($(c).offset().top-f)/a,0),1),j.push($(c).width(e*b));return j}return $(".bar_cover").width(b)},z=function(){return $(".form_error_area").show(),$("#submit_application").html("Fix Errors & Try Again"),u()},g=function(){return $(".form_error_area").hide(),$("#submit_application").html("Submit Application"),u()},k=function(){var a,b;return $(".help-inline").html(""),E()?(a=$("#application").serializeObject(),$.post("pages/wufoo",a,function(a){var b,c,d,e,f,g;if(a.Success===1)return d=Math.round(((new Date).getTime()-n)/1e3),mpq.track("Submit Application Success",{time_to_submit:d,mp_note:"A user successfully submitted an application. They took "+d+" seconds to fill it out."}),$(window).scrollTop(0),$("#instructions_container").hide(),$("#application").fadeOut(function(){return u()}),$("#success").fadeIn(function(){return u()});if(a.FieldErrors!=null){z(),mpq.track("Submit Application Error",{time_to_submit:d,mp_note:"A user tried to submit an application but had errors. They took "+d+" seconds to fill it out."}),g=a.FieldErrors;for(e=0,f=g.length;e<f;e++)b=g[e],c=$("input[name='app["+b.ID+"]'],textarea[name='app["+b.ID+"]']").attr("id"),$("#"+c+"_error").html(b.ErrorText);return u()}})):(z(),b=Math.round(((new Date).getTime()-n)/1e3),mpq.track("Submit Application Error",{time_to_submit:b,mp_note:"A user tried to submit an application but had errors. They took "+b+" seconds to fill it out."}),u()),!1},l=function(){var a;return a=$("#getting_started").serializeObject(),$.post("pages/wufoo",a,function(a){var b,c,d,e,f;if(a.Success===1)return mpq.track("Submit Getting Started Success",{mp_note:"A user successfully signed up."}),showApplication(),$("#awesome").show();if(a.FieldErrors!=null){f=a.FieldErrors;for(d=0,e=f.length;d<e;d++)b=f[d],c=$("input[name='app["+b.ID+"]']").attr("id"),$("#"+c+"_error").html(b.ErrorText);return u()}}),!1},window.showApplication=function(){return $("#application").slideDown(400,function(){return u()}),$("#getting_started").slideUp(),$("#instructions_container").fadeIn(),$("#instructions").css("top","-"+$("#instruction_content").outerHeight()+"px"),$("#instructions").removeClass("opened"),$("#email").val($("#getting_started_email").val())},window.hideApplication=function(){return $("#application").slideUp(),$("#getting_started").slideDown(500,function(){return u()}),$("#instructions_container").fadeOut(),$("#instructions").css("top","-"+$("#instruction_content").outerHeight()+"px"),$("#instructions").removeClass("opened"),$("#getting_started_email").val($("#email").val()),u()},E=function(){var a;return a=0,$("#name").val().split(" ").length<2&&(a+=1,$("#name_error").html("Only 'Cher' can have one name. What's your FULL name?")),$("#name").val()===""&&(a+=1,$("#name_error").html("If you don't give us a name, we'll make one up for you (not)")),$("#email").val()===""&&(a+=1,$("#email_error").html("We need your email. How else would we get in touch with you")),$("input[type=radio]:checked").length===0&&(a+=1,$("#track_error").html("Please choose a track")),$("#whoami").val().length>140&&(a+=1,$("#whoami_error").html("Too many characters! Be concise please.")),$("#whoami").val()===""&&(a+=1,$("#whoami_error").html("Please give us a short bio.")),$("#social").val()===""&&(a+=1,$("#social_error").html("Give us some indication of stuff you've done")),$("#the_why").val()===""&&(a+=1,$("#the_why_error").html("Come on, aren't you interested?")),$("#accomplished").val()===""&&(a+=1,$("#accomplished_error").html("It can even be that volcano you built in 1st grade.")),$("#good_hire").val().length>250&&(a+=1,$("#good_hire_error").html("Too many characters! Be concise please.")),$("#good_hire").val()===""&&(a+=1,$("#good_hire_error").html("Please indicate some amount of awesomeness.")),$("#other").val().split(" ").length>250&&(a+=1,$("#other_error").html("Too many words! Be concise please.")),a>0?!1:!0},p=function(a){var b,c,d;return b="."+$(this).attr("id")+"_count",c=$(this).val().length,c>a&&(d=$(this).val().substr(0,a),$(this).val(d),c-=1),$(b).html(""+c+"/"+a+" characters")},q=function(a){var b,c,d,e,f;return b="."+$(this).attr("id")+"_count",f=$(this).val().split(" "),f=f.filter(function(a){return a===""?!1:!0}),d=f.length,d>a&&(c=f.slice(0,a),e=c.join(" "),$(this).val(e),d-=1),$(b).html(""+d+"/"+a+" words")},jQuery.fn.serializeObject=function(){var a,b;return a=this.serializeArray(),b={},$.each(a,function(){var a;return this.value!=null?a=this.value:a="",b[this.name]!=null?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(a)):b[this.name]=a}),b},A=function(){var a;return $(".section_header").show(),$("#instructions").css({top:"-"+$("#instruction_content").outerHeight()+"px"}),a=$("#instruction_header").outerHeight()+10,$("#instructions_container").height(a),$("#page, #scroll_up, #arrow_track").css({visibility:"visible"}),$(window).scrollTop($(document).height())},x=function(){var a,b,c,d,e,f,g;if(window.localStorage!=null){f=$("input[type=text], textarea"),g=[];for(d=0,e=f.length;d<e;d++)a=f[d],b=$(a).attr("name"),c=localStorage.getItem(b),g.push($(a).val(c));return g}return $(".no_save").show(),!1},y=function(){var a,b,c,d,e,f,g;if(window.localStorage!=null){f=$("input[type=text], textarea"),g=[];for(d=0,e=f.length;d<e;d++)a=f[d],b=$(a).attr("name"),c=$(a).val(),g.push(localStorage.setItem(b,c));return g}return!1},h=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;l="",c=$(window).scrollTop(),a=c+$(window).height(),b=a-c,o=$("section");for(m=0,n=o.length;m<n;m++)k=o[m],j=$(k).offset().top,g=j+$(k).outerHeight(),h=g-j,i=$(k).attr("id"),j-c<0&&a-g<0?f=1:(e=Math.min(h,g-c)/h,d=Math.min(h,a-j)/h,f=Math.min(e,d),f=Math.max(f,0)),r["nav_"+i]=f,f>0&&l===""&&(l=i),$("#nav_"+i).find(".nav_bg").css({opacity:f});$("#nav_selector").val(l);if(window.scrolling===!1&&window.enableHashUpdates===!0)return window.location.hash="!/"+l},w=function(){var a,b;return b=$("#video_one").width(),a=b*.5625,$("#video_one").append('<iframe src="http://fast.wistia.com/embed/iframe/518902fe54?videoWidth=640&amp;videoHeight=360&amp;controlsVisibleOnLoad=true&amp;plugin%5BpostRoll%5D%5Bversion%5D=v1&amp;plugin%5BpostRoll%5D%5Btext%5D=Learn%20more%20at%26nbsp%3Bhttp%3A%2F%2Fviximo.com&amp;plugin%5BpostRoll%5D%5Blink%5D=http%3A%2F%2Fviximo.com%2Fwant-join-team-awesome&amp;plugin%5BpostRoll%5D%5Bstyle%5D%5BbackgroundColor%5D=%23616161&amp;plugin%5BpostRoll%5D%5Bstyle%5D%5Bcolor%5D=%23ffffff&amp;plugin%5BpostRoll%5D%5Bstyle%5D%5BfontSize%5D=36px&amp;plugin%5BpostRoll%5D%5Bstyle%5D%5BfontFamily%5D=Gill%20Sans%2C%20Helvetica%2C%20Arial%2C%20sans-serif" allowtransparency="true" frameborder="0" class="wistia_embed video_frame" name="wistia_embed" width="'+b+'px" height="'+a+'px"></iframe>'),$("#video_two").append('<iframe class="video_frame" src="http://player.vimeo.com/video/39066066" width="'+b+'px" height="'+a+'px" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),$("#video_three").append('<iframe class="video_fram" width="'+b+'" height="'+a+'" src="http://www.youtube.com/embed/9V_7aSj0-jI" frameborder="0" allowfullscreen></iframe>')},C=function(){var a,b,c,d;$("html, body").stop(!0,!0),d=window.location.hash.slice(3,window.location.hash.length+1||9e9);if(d===""||d==="!/")return;return a=$("#"+d),b=a.prev("h1").outerHeight(),c=$("#top_nav:visible").length===0?0:$("#top_nav").outerHeight(),window.scrolling=!0,$("html, body").animate({scrollTop:a.offset().top-b-c},function(){return window.scrolling=!1})},s=function(a){return window.clicked=!0,window.location.hash="!/"+a},m=function(){if(window.clicked)return C(),window.clicked=!1},i=function(){return $(window).on("hashchange",m),$("*[rel=popover]").popover({placement:"top"}),w(),$(window).resize(t),$(window).scroll(u),$("#page")[0].ontouchmove=u,$("input, textarea").blur(y),$("input, textarea").focus(g),$("#submit_getting_started").click(function(){return l()}),$("#submit_application").click(function(){return k()}),$("#whoami").keyup(function(a){return p.call(this,140)}),$("#good_hire").keyup(function(a){return p.call(this,250)}),$("#other").keyup(function(a){return q.call(this,250)}),$(".section_header").click(function(){var a,b;return a=$("#"+$(this).data("section")),b=$(this).data("order")*$(this).height()+$(this).height(),$("body,html").animate({scrollTop:a.offset().top-b})}),$(".show_application").click(function(){var a;return a=$("#getting_started_email").val(),mpq.track("Show Application",{user_email:a,mp_note:"User with email "+a+" viewed the full application"}),showApplication()}),$(".hide_application").click(hideApplication),$("#apply_now_btn").click(function(){return s("apply")}),$(".instruction_toggle").click(function(){var a,b,c;return b=$("#instructions"),a=$("#instructions_container"),b.hasClass("opened")?(b.animate({top:"-"+$("#instruction_content").outerHeight()+"px"},function(){return a.height($("#instruction_header").outerHeight()+10)}),b.toggleClass("opened"),$("#toggle_instructions").html("open")):(c=$("#instruction_header").outerHeight()+$("#instruction_content").outerHeight()+20,a.height(c),b.animate({top:"0px"}),b.toggleClass("opened"),$("#toggle_instructions").html("close"))}),$("#floating_nav > ul > li").click(function(){return s($(this).data("section_id"))}),$("#floating_nav > ul > li").hover(function(){return $(this).find(".nav_bg").css({opacity:1})},function(){return $(this).find(".nav_bg").css({opacity:r[$(this).attr("id")]})}),$("#nav_selector").change(function(a){return s($(this).val())}),$("#apply_now_top_nav").click(function(a){return s("apply")})},v=function(){var a,b,c,d,e,f,g,h,i,j;i=$(".post_load_img"),j=[];for(g=0,h=i.length;g<h;g++)d=i[g],a=$(d),a.load(t),e=a.parent().width(),e<=320?f="small":e>320&&e<=640?f="medium":e>640?f="large":f="large",b=a.data("base_name"),c=a.data("format"),j.push(a.attr("src","img/"+b+"_"+f+"."+c));return j},jQuery(function(){return i(),v(),t(),x(),h(),$(window).scrollTop($(document).height()),C(),window.scrolling=!1,window.enableHashUpdates=!1,setTimeout(function(){return window.enableHashUpdates=!0},1e3)})}).call(this);